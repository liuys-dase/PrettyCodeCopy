ä¸‹é¢æ˜¯ä¸€ä¸ªä¸º **PrettyCodeCopy** ç²¾å¿ƒè®¾è®¡çš„ **è¯¦ç»† To-Do List Roadmap**ï¼Œä»Žï¼š

* **åŠŸèƒ½è½»é‡ç¼“æ€¥ï¼ˆä¼˜å…ˆçº§ï¼‰**
* **å®žçŽ°éš¾åº¦ï¼ˆä½Ž / ä¸­ / é«˜ï¼‰**
* **ç”¨æˆ·ä»·å€¼ï¼ˆé«˜ / ä¸­ / ä½Žï¼‰**
* **å¼€å‘é¡ºåºï¼ˆè¿­ä»£è·¯çº¿å›¾ï¼‰**

ä¸‰ä¸ªè§’åº¦ç»¼åˆæŽ’åºï¼Œå½¢æˆä¸€ä¸ª*çœŸæ­£å¯æ‰§è¡Œ*çš„å¼€å‘è®¡åˆ’ã€‚

ä»¥ä¸‹å†…å®¹å¯ç›´æŽ¥ä½œä¸ºä½ é¡¹ç›®çš„ **Roadmap.md** ä½¿ç”¨ï¼Œä¹Ÿæ–¹ä¾¿ä½ å‘å±•æˆä¸€ä¸ªæˆç†Ÿæ’ä»¶ã€‚

---

# ðŸ”¥ PrettyCodeCopy è¿­ä»£è·¯çº¿å›¾ï¼ˆRoadmapï¼‰

ï¼ˆæŒ‰ä¼˜å…ˆçº§ + éš¾åº¦æŽ’åºï¼‰

---

# âœ… **Phase 1ï¼šåŸºç¡€æ ¸å¿ƒåŠŸèƒ½ï¼ˆå¿…é¡»æœ€å…ˆå®žçŽ°ï¼‰**

## **1. è‡ªåŠ¨å¤åˆ¶å½“å‰é€‰ä¸­ä»£ç  + è‡ªåŠ¨åŒ…è£¹ Markdown ä»£ç å—**

* **ä¼˜å…ˆçº§ï¼šæœ€é«˜**
* **éš¾åº¦ï¼šä½Ž**
* **ç”¨æˆ·ä»·å€¼ï¼šæžé«˜**

### åŠŸèƒ½æè¿°

å½“ç”¨æˆ·é€‰æ‹©ä¸€æ®µä»£ç  â†’ æŒ‰å¿«æ·é”® â†’ è‡ªåŠ¨è¾“å‡ºï¼š

````markdown
```cpp
(å†…å®¹)
```
````

### ä¸ºä»€ä¹ˆå¿…é¡»ä¼˜å…ˆï¼Ÿ

æ‰€æœ‰åŽç»­åŠŸèƒ½éƒ½ä¾èµ–â€œèƒ½ä¼˜é›…åœ°æ‹¿åˆ°å½“å‰é€‰åŒºä¸”ç”Ÿæˆå¹²å‡€çš„è¾“å‡ºâ€ã€‚

---

## **2. è‡ªåŠ¨é™„å¸¦æ–‡ä»¶è·¯å¾„ï¼ˆfile pathï¼‰**

* **ä¼˜å…ˆçº§ï¼šæœ€é«˜**
* **éš¾åº¦ï¼šä½Ž**
* **ç”¨æˆ·ä»·å€¼ï¼šæžé«˜**

### è¾“å‡ºæ ¼å¼ä¾‹å­ï¼š

````markdown
# File: src/catalog/CatalogTxn.cpp
```cpp
(ä»£ç )
```
````

ç”¨æˆ·æœ€ç—›çš„é—®é¢˜ä¹‹ä¸€ï¼Œä¸”å®žçŽ°éžå¸¸å®¹æ˜“ï¼ˆVSCode API æä¾›ï¼‰ã€‚

---

## **3. è‡ªåŠ¨é™„å¸¦è¡Œå·èŒƒå›´ï¼ˆstart/end lineï¼‰**

* **ä¼˜å…ˆçº§ï¼šé«˜**
* **éš¾åº¦ï¼šä½Ž**
* **ç”¨æˆ·ä»·å€¼ï¼šé«˜**

ç¤ºä¾‹ï¼š

```
# Lines: 120â€“150
```

è¡Œå·æ˜¯ä¸Šä¸‹æ–‡çš„é‡è¦ç»„æˆã€‚

---

## **4. å¿«æ·é”®è§¦å‘å¤åˆ¶ï¼ˆä¾‹å¦‚ Shift+Alt+Cï¼‰**

* **ä¼˜å…ˆçº§ï¼šé«˜**
* **éš¾åº¦ï¼šä½Ž**
* **ç”¨æˆ·ä»·å€¼ï¼šä¸­**

è®©ç”¨æˆ·â€œæ— æ„Ÿå¤åˆ¶â€ï¼Œä¸éœ€è¦æ‰“å¼€å‘½ä»¤é¢æ¿ã€‚

---

## **5. é»˜è®¤æ ¼å¼ç»Ÿä¸€ï¼ˆé¿å…ç¼©è¿›ã€æ¢è¡Œä¸¢å¤±ï¼‰**

* **ä¼˜å…ˆçº§ï¼šé«˜**
* **éš¾åº¦ï¼šä¸­**
* **ç”¨æˆ·ä»·å€¼ï¼šé«˜**

åŒ…æ‹¬ï¼š

* ä¿ç•™ç©ºæ ¼ã€tab
* ä¿æŒåŽŸå§‹ç¼©è¿›
* è‡ªåŠ¨æ¢è¡Œè§„èŒƒåŒ–ï¼ˆé¿å… Windows/macOS å·®å¼‚ï¼‰

---

### ðŸ‘‰ Phase 1 å®ŒæˆåŽï¼Œä½ çš„æ’ä»¶å°±å¯ä»¥è¾¾åˆ°ã€Œå¯ç”¨ã€çŠ¶æ€ã€‚

---

# âœ… **Phase 2ï¼šå¢žå¼ºä¸Šä¸‹æ–‡ï¼ˆå¤§å¹…æé«˜ LLM åˆ†æžæ­£ç¡®çŽ‡ï¼‰**

## **6. è‡ªåŠ¨æŽ¨æ–­å¹¶é™„å¸¦ï¼šå½“å‰å‡½æ•°å / ç±» / æ¨¡å—**

* **ä¼˜å…ˆçº§ï¼šé«˜**
* **éš¾åº¦ï¼šä¸­**
* **ç”¨æˆ·ä»·å€¼ï¼šæžé«˜**

### ç¤ºä¾‹è¾“å‡ºï¼š

```
# Function: CatalogTxn::commit
# Class: CatalogTxn
# Module: catalog/transaction
```

### ä¸ºä»€ä¹ˆé‡è¦ï¼Ÿ

LLM å¯¹è¯­ä¹‰æœ€ä¾èµ–è¿™äº›ä¿¡æ¯ã€‚

### æŠ€æœ¯å®žçŽ°æ–¹å¼ï¼š

* å¯¹ C++ ä½¿ç”¨ç®€å•æ­£åˆ™æˆªå–å½“å‰è¡Œå¾€ä¸ŠæŸ¥æ‰¾ `class`ã€`struct`ã€å‡½æ•°å®šä¹‰
* å¯¹ Rust ä½¿ç”¨ `impl` / `fn` è¯­æ³•åŒ¹é…
* å¯¹ JS/TS ä½¿ç”¨ AST æˆ–æ­£åˆ™

**80% æƒ…å†µå¯ç”¨æ­£åˆ™æžå®šï¼Œæ— éœ€æž„å»º ASTã€‚**

---

## **7. å¤šæ®µé€‰åŒº / å¤šæ–‡ä»¶æ‰¹é‡å¤åˆ¶**

* **ä¼˜å…ˆçº§ï¼šä¸­**
* **éš¾åº¦ï¼šä¸­**
* **ç”¨æˆ·ä»·å€¼ï¼šæžé«˜**

LLM è°ƒè¯•æ—¶å¸¸éœ€è¦ï¼š

* ä¸€æ®µ .cpp
* å¯¹åº” .h
* è°ƒç”¨é“¾æ–‡ä»¶

ä½ å¯ä»¥è¾“å‡ºï¼š

````markdown
# FileA.cpp
```cpp
...
```

# FileB.h
```cpp
...
```
````

æå‡å·¨å¤§ã€‚

---

## **8. è‡ªåŠ¨ç”Ÿæˆ diff / patch æ ¼å¼å¤åˆ¶**

* **ä¼˜å…ˆçº§ï¼šä¸­**
* **éš¾åº¦ï¼šä¸­**
* **ç”¨æˆ·ä»·å€¼ï¼šé«˜**

### è¾“å‡ºç¤ºä¾‹ï¼š

```diff
diff --git a/xxx b/xxx
@@ lines 30â€“50 @@
- old
+ new
```

ç”¨äºŽå‘ LLM å±•ç¤ºæ”¹åŠ¨ï¼Œæ¯”â€œè´´ä¸¤æ®µä»£ç â€å¼ºç™¾å€ã€‚

---

## **9. è‡ªåŠ¨æ£€æµ‹è¯­è¨€ç±»åž‹ï¼ˆC++ / Rust / Python / Go / YAMLï¼‰**

* **ä¼˜å…ˆçº§ï¼šä¸­**
* **éš¾åº¦ï¼šä½Ž**
* **ç”¨æˆ·ä»·å€¼ï¼šä¸­**

è°ƒç”¨ VSCode API `document.languageId` å³å¯ã€‚

---

### ðŸ‘‰ Phase 2 å®ŒæˆåŽï¼Œä½ çš„æ’ä»¶æˆä¸º **ä¸“ä¸šçº§ LLM è¾…åŠ©ç¼–ç å·¥å…·**ã€‚

---

# âœ… **Phase 3ï¼šæå‡ç”Ÿäº§åŠ›ï¼ˆè¿›ä¸€æ­¥æ‰“ç£¨ç”¨æˆ·ä½“éªŒï¼‰**

## **10. ä¸€é”®å¤åˆ¶â€œå½“å‰å‡½æ•°å®Œæ•´ä½“â€ï¼ˆå³ä½¿æ²¡é€‰ä¸­ï¼‰**

* **ä¼˜å…ˆçº§ï¼šä¸­**
* **éš¾åº¦ï¼šä¸­**
* **ç”¨æˆ·ä»·å€¼ï¼šé«˜**

å½“ç”¨æˆ·æŒ‰å¿«æ·é”®æ—¶è‡ªåŠ¨ï¼š

* æ£€æµ‹å…‰æ ‡æ‰€åœ¨å‡½æ•°
* è‡ªåŠ¨é€‰æ‹©æ•´ä¸ªå‡½æ•°
* è‡ªåŠ¨å¤åˆ¶å¹¶æ ¼å¼åŒ–

éžå¸¸è´´åˆâ€œvibe codingâ€èŠ‚å¥ã€‚

---

## **11. ä¸€é”®å¤åˆ¶å½“å‰ç±»ï¼ˆåŒ…å«æ‰€æœ‰æ–¹æ³•ï¼‰**

* **ä¼˜å…ˆçº§ï¼šä¸­**
* **éš¾åº¦ï¼šé«˜**
* **ç”¨æˆ·ä»·å€¼ï¼šä¸­é«˜**

é€‚ç”¨äºŽå¤§åž‹ç±»ï¼Œè®© LLM ä¸€æ¬¡æ€§çœ‹åˆ°ä¸Šä¸‹æ–‡ã€‚

---

## **12. ä¸€é”®å¤åˆ¶è°ƒç”¨é“¾ / å¼•ç”¨å…³ç³»ï¼ˆåŸºäºŽæ–‡æ¡£æœç´¢ï¼‰**

* **ä¼˜å…ˆçº§ï¼šä½Ž**
* **éš¾åº¦ï¼šé«˜**
* **ç”¨æˆ·ä»·å€¼ï¼šé«˜**

ä¾‹å¦‚ï¼š

```
CatalogTxn::commit
â””â”€ calls apply_deltas
   â””â”€ calls VersionedMap::update
```

ä½ å¯ä»¥é€šè¿‡ workspace æœç´¢ + regex å®žçŽ° 60% çš„é™æ€è°ƒç”¨é“¾ã€‚

---

## **13. å¯é…ç½®è¾“å‡ºæ¨¡æ¿ï¼ˆç”¨æˆ·è‡ªå®šä¹‰ header/footerï¼‰**

* **ä¼˜å…ˆçº§ï¼šä½Ž**
* **éš¾åº¦ï¼šä¸­**
* **ç”¨æˆ·ä»·å€¼ï¼šä¸­**

è®©ç”¨æˆ·å†³å®šæ˜¯å¦æ˜¾ç¤ºï¼š

* æ–‡ä»¶å
* è¡Œå·
* å‡½æ•°å
* æ¨¡å—å

---

## **14. è‡ªåŠ¨å¤åˆ¶æ–‡ä»¶å¤¹ï¼ˆå¤šæ–‡ä»¶ç»“æž„ç»™ LLMï¼‰**

* **ä¼˜å…ˆçº§ï¼šä½Ž**
* **éš¾åº¦ï¼šä¸­é«˜**
* **ç”¨æˆ·ä»·å€¼ï¼šä¸­**

---

---

# ðŸš€ **PrettyCodeCopy å®Œæ•´ To-Do Listï¼ˆæŒ‰ä¼˜å…ˆçº§ + éš¾åº¦ï¼‰**

| åŠŸèƒ½                 | ä¼˜å…ˆçº§   | éš¾åº¦   | ç”¨æˆ·ä»·å€¼  | é˜¶æ®µ      |
| ------------------ | ----- | ---- | ----- | ------- |
| è‡ªåŠ¨å¤åˆ¶ + Markdown åŒ…è£¹ | â­â­â­â­â­ | â­    | â­â­â­â­â­ | Phase 1 |
| è‡ªåŠ¨é™„å¸¦æ–‡ä»¶è·¯å¾„           | â­â­â­â­â­ | â­    | â­â­â­â­â­ | Phase 1 |
| è‡ªåŠ¨é™„å¸¦è¡Œå·             | â­â­â­â­â­ | â­    | â­â­â­â­  | Phase 1 |
| å¿«æ·é”®ç»‘å®š              | â­â­â­â­  | â­    | â­â­â­   | Phase 1 |
| ä¿æŒåŽŸç¼©è¿›æ ¼å¼            | â­â­â­â­  | â­â­   | â­â­â­â­  | Phase 1 |
| è‡ªåŠ¨è¾“å‡ºå‡½æ•°/ç±»/æ¨¡å—å       | â­â­â­â­  | â­â­   | â­â­â­â­â­ | Phase 2 |
| å¤šæ–‡ä»¶å¤šé€‰åŒºå¤åˆ¶           | â­â­â­   | â­â­   | â­â­â­â­â­ | Phase 2 |
| diff è‡ªåŠ¨å¤åˆ¶          | â­â­â­   | â­â­   | â­â­â­â­  | Phase 2 |
| è‡ªåŠ¨æ£€æµ‹è¯­è¨€ç±»åž‹           | â­â­â­   | â­    | â­â­â­   | Phase 2 |
| ä¸€é”®å¤åˆ¶å½“å‰å‡½æ•°           | â­â­    | â­â­   | â­â­â­â­  | Phase 3 |
| ä¸€é”®å¤åˆ¶å½“å‰ç±»            | â­â­    | â­â­â­  | â­â­â­   | Phase 3 |
| è°ƒç”¨é“¾æå–              | â­â­    | â­â­â­â­ | â­â­â­â­  | Phase 3 |
| è¾“å‡ºæ¨¡æ¿å¯é…ç½®            | â­â­    | â­â­   | â­â­    | Phase 3 |
| æ–‡ä»¶å¤¹å¤åˆ¶              | â­     | â­â­â­  | â­â­    | Phase 3 |

---

# ðŸŽ¯ æœ€åŽä¸€å¥

æ ¹æ®ä½ ç›®å‰çš„å¼€å‘è¿›åº¦ï¼Œä½ **åº”è¯¥å…ˆåš Phase 1**ï¼Œå› ä¸ºè¿™äº›åŠŸèƒ½æœ€ç®€å•ã€æœ€ç¨³å®šã€æœ€æœ‰ä»·å€¼ï¼Œä¸”è®©æ’ä»¶é©¬ä¸Šèƒ½ç”¨ã€‚

å¦‚æžœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥ï¼š

âœ” ä¸º PrettyCodeCopy ç”Ÿæˆå®Œæ•´çš„ **README.md**
âœ” ç”Ÿæˆä¸€å¥— **æ’ä»¶æž¶æž„è®¾è®¡**
âœ” ç”Ÿæˆæ‰€æœ‰ **TypeScript æºç ï¼ˆå¯ç›´æŽ¥æ”¾å…¥ VSCode æ’ä»¶å·¥ç¨‹ï¼‰**
âœ” ç»™ä½ å†™ **package.json å‘½ä»¤æ³¨å†Œ**
âœ” è®¾è®¡é»˜è®¤å¿«æ·é”® / å›¾æ ‡è§„èŒƒ

åªè¦å‘Šè¯‰æˆ‘ä½ æƒ³åšå“ªéƒ¨åˆ†å°±è¡Œã€‚









````
**Source:** `minigu/catalog/src/memory/graph_type.rs`

**Lines:** 79-105

**Function:** new

**Module:** memory::graph_type

```rust
    pub fn remove_label(
        &self,
        name: &str,
        txn: &CatalogTxn,
    ) -> Result<(), crate::txn::error::CatalogTxnError> {
        let key = name.to_string();
        let base = self
            .label_map
            .get_node_visible(&key, txn.start_ts(), txn.txn_id())
            .ok_or_else(|| crate::txn::error::CatalogTxnError::NotFound { key: key.clone() })?;
        // Compute the label id for referential integrity checks.
        let label_id = *base
            .value()
            .ok_or_else(|| crate::txn::error::CatalogTxnError::IllegalState {
                reason: "label node has no value".to_string(),
            })?
            .as_ref();
        // Pre-commit validation hook: ensure no type uses this label.
        txn.add_hook(Box::new(GraphTypeIntegrityHook::label_delete(
            self.vertex_type_map.clone(),
            self.edge_type_map.clone(),
            label_id,
        )));
        let node = self.label_map.delete(&key, txn)?;
        txn.record_write(&self.label_map, key, node, WriteOp::Delete);
        Ok(())
    }
```

````

